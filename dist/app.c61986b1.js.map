{"version":3,"sources":["node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","app.ts"],"names":["_setPrototypeOf","o","p","module","exports","Object","setPrototypeOf","bind","__proto__","__esModule","require","_inherits","subClass","superClass","TypeError","prototype","create","constructor","value","writable","configurable","defineProperty","_typeof","obj","Symbol","iterator","_assertThisInitialized","self","ReferenceError","assertThisInitialized","_possibleConstructorReturn","call","_getPrototypeOf","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","target","props","i","length","descriptor","enumerable","key","_createClass","protoProps","staticProps"],"mappings":"AGAA,AGAA,ACAA,AFAA,AJAA,AGAA,AJAA,AEAA,IDAIM,AGAAgB,KDAKI,AGAAQ,ACAAG,AFAAL,ALAAhC,AEAAsB,EEAE,GAAGZ,EFAE,CAACa,CDAC,ECAE,CDACb,AGAA,CAAC,AFAA,EIAE,ADAA,ALAA,CMACyB,ADAAlC,ALAAA,COAC,AFAA,ALAA,COACqC,CFAC,AJAA,ADAApC,CCAC,ADAA,EGAE,AHAA,CGACyB,CGAC,ACAA,EDAES,ACAAG,AHAA,CDAC,ACAA,CAAC,CDAC,EIAE,EAAE,IDAI,AFAA,CAAC,CEAC,ELAE,CAAC;AACnD,AGAA,EDAE,AGAA,ACAA,AFAApC,ALAAA,AEAA,EEAE0B,EDAEF,AGAA,CCAC,CDACQ,ADAA,ALAA,CKAC/B,AJAAO,ADAAP,CGAC,CIACoC,CAAC,GJAG,AIAA,CDAC,ACAA,AFAA,ALAA,EOAEA,ANAA,CMAC,AFAAR,AJAApB,ADAAZ,CGAC,CAAC,CIACuC,CJAC,ECAE,EGAE,ANAA,ACAA,CIACH,ACAAK,AHAA/B,CHACG,KMAK,AFAA,ALAA,CIAC,CGAC2B,AHAA,CGAC,AFAAnC,ALAAA,EMAE,ACAA,ANAA,CKAC,CCAC,ANAA,CKAC,CDAC,ALAA,CKACC,ALAAA,cKAc,ALAA,GKAGD,ALAAA,GIAG,CAAC,ECAE,ALAA,CKAC4B,ALAA3B,cKAc,ALAA,CKACC,ALAAA,IKAI,ALAA,EKAE,ALAA,GKAG,ALAA,SKASyB,ALAAhC,eKAe,ALAA,CKACC,ALAAA,CKAC,ALAA,EKAE,ALAAC,CAAC,EAAE;AIC3H,EHAE,EEAE,AGAA,ACAA,AFAA,ALAAD,CAAC,CCAC,ADAAO,EOAEkC,CHACZ,CDAC,AGAA,CDAC7B,CAAC,CAACO,AJAAK,CEACe,AGAAd,CNAC,GOAG,APAAZ,CAAC,EOAEqC,CFAC,CCAC,ALAA,CKAC,ECAE,AFAAlC,CEACmC,CJAC,AIAA,ANAA,CEAC,AIAA,GFAG,CAACP,EDAE,CAACN,EHAE,EGAE,EHAEd,AGAAkB,IAAI,CCAC,CAAC9B,ADAA,CCAC,CAAC,EJAE,KAAK,EKAE,CAAC,CLAC,EAAE,yBEAyB,CAAC;EACvF,AGAA,ADAA,ADAA,AFAA,CGAC,CEACyC,ANAA,ADAA,CKACvC,CDAC4B,GFAG,CDAC,AGAA,AFAA5B,CGAC,ALAAF,CKACG,ALAA,EOAE,ANAAU,CMAC6B,AHAArB,CFAC,CAAClB,EGAE,CAACK,EDAE,CHAC,AGAAsB,CHAC,ACAA,CKAC,EHAE,AFAAT,CKACoB,AHAA,ECAE,GAAG,ADAA,CFAC,GGAG,AHAA,CKAC,CAACC,AFAAxC,EDAE,ICAI,ADAA,CCACC,CHAC,EKAE,ELAE,CEAC2B,CGAC,AFAA,CAAC,EDAE,EGAE,ALAAP,GEAG,ECAE,CAAC,AHAA,GGAGrB,CHAC,GEAG,CAAC,CCAC,CAACC,ADAA,EHAE,ACAA,CDAC,GCAG,CGAC,MHAMoB,MAAM,CAACC,QAAQ,GAAG,UAAUF,GAAG,EAAE;AICxH,EHAE,AEAA,AJAA,ADAA,CAAC,COACmB,AHAA,AFAA,CFACvC,IGAIwB,AEAAK,EDAED,AJAA,AEAA,CFAC3B,CGAC,CIAC,CAACgB,AHAA,GFAGG,CFAC,CAACd,CEAC,GGAG,CAACR,CAAC,CEAC,AFAA,GEAG,APAA,GAAG,COAC,GPAG,EAAEE,MAAM,CAACC,OAAO,CAAC,SAAS,CAAC,GAAGD,MAAM,CAACC,OAAO;AGCjF,AGAAD,ADAA,EJAES,AGAA,AJAA,AEAA,CEAC,AFAA,CKAC,EDAE,AJAA,CIACR,CCAC,CHAC,AJAAJ,CCAC,CAACe,EGAEgB,CEAC,CCAC,CLACR,CIACW,AFAA,EGAEQ,ALAA,CDAC,CCAC,CEAC,CHACrC,CDAC,CAACJ,CAAC,CIAC,CAAC,AJAAC,COAC,ANAA,ADAA,CCACc,AGAA,AJAA,COAC0B,CDAC,EAAEvC,ELAE,CAACU,GKAG,CAACT,ACAA,CAACe,KNAK,CKAC,CAACV,CCAC,CNACI,EMAE,IAAI,EDAE,ELAE,CKAC,ALAAE,IKAI,EAAEZ,GLAG,EAAE,CKAC,CAACC,OAAO,CAAC,SAAS,CAAC,GAAGD,MAAM,CAACC,OAAO;AHC9GD,AEAAA,ALAA,IOAIE,ANAAY,AGAA,AFAA,ECAE,AEAA,CFACb,AEAAA,GEAG,AHAA,CGACiB,ALAAE,GCAG,AEAA,ADAAT,AFAA,CDAC,EEAEY,AEAAM,AJAA,CCAC,KEAK,CAAC,CGAC,CAACM,ELAE,IKAI,AFAA,AHAA,EKAEI,AFAAvC,KFAK,ADAAqB,CGAC,CFACrB,AEAAC,GEAG,CAACwC,ALAA,ECAE,CAACxC,AIAA,AFAA,CAACK,AHAAc,CKACmB,ELAE,CAACzB,ECAE,CAACR,GEAG,CEAC,CAAC,CFAC,EHAE,ECAE,AEAA,EAAEN,CFAC,ADAAqB,ICAI,CEAC,CFACrB,AEAAC,AHAA,IAAImB,ECAE,CAACnB,AEAA,ADAA,AFAA,CGAC,ADAA,IFAIoB,ECAE,CAAC,EEAE,CAAC,AHAA,CAACT,EGAEZ,GFAG,CAAC,EEAE,CFACA,AEAAC,AHAA,GAAG,GCAG,CAACA,AEAA,IHAI,GCAG,ADAA,OAAOmB,GAAG;AFC/HpB,EOAE,AHAA,AFAA,CAAC,EAAEA,CDACe,ADAA,CAACd,ICAI,ACAA,CAACA,CDACQ,CDAC,GAAGZ,EEAE,CAACS,CDAC,SCAS,EFAE,CEAC,CFACN,GEAG,EAAEA,CFAC,CAACC,IEAI,CAACA,EFAE,CAACK,IEAI,CAAC,KFAK,GAAG,CEAC,CAAC,EFAE,CEACN,CFACA,KEAK,CFAC,AEAAC,CFACA,MEAM,CFAC,CAAC,CEACkB,OAAO,CFAC,AEAAC,CFAC,EEAE,CFACpB,AEAA,MFAM,CAACC,OAAO;AOC9G,ALAA,EEAE,IHAIe,GGAGU,KHAK,EAAE,IAAI,UGAU,CAACF,IAAI,CAAC;AGCpC,AHAA,AFAAxB,MDAMiB,ACAA,CAAChB,EKAEyC,KLAK,GAAGvB,CDAC,EAAE,CMAC,CAACc,ELAE,EAAEjC,MAAM,CKAC,ALAAC,EKAE0C,KLAK,CAACrC,IKAI,EAAEsC,ILAI,GAAG,IKAI,ALAA,EKAE,ALAA5C,MAAM,CAACC,OAAO,CAAC,SAAS,CAAC,GAAGD,MAAM,CAACC,OAAO;AECtGD,EGAE,ENAE,EMAE2C,AHAA,CAAC1C,OAAO,EGAE,CHAC0B,CGACO,iBAAiB,CAACD,OHAO,EAAEjC,EGAE,CAACY,GHAG,CAACX,KGAK,EAAE0C,AHAA,CAACrC,SGAS,CAAC,AHAA,GAAG,IAAI,EA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","file":"app.c61986b1.js","sourceRoot":"..","sourcesContent":["function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","interface Store {\r\n    currentPage: number;\r\n    feeds: NewsFeed[];\r\n}\r\n\r\ninterface News {\r\n    readonly id: number;\r\n    readonly title: string;\r\n    readonly time_ago: string;\r\n    readonly url: string;\r\n    readonly user: string;\r\n    readonly content: string;\r\n}\r\n\r\ninterface NewsFeed extends News {\r\n    readonly comments_count: number;\r\n    readonly points: number;\r\n    read?: boolean;\r\n}\r\n\r\ninterface NewsDetail extends News {\r\n    readonly comments: NewsComment[];\r\n}\r\n\r\ninterface NewsComment extends News {\r\n    readonly comments : NewsComment[];\r\n    readonly level: number;\r\n}\r\n\r\ninterface RouteInfo {\r\n    path: string;\r\n    page: View;\r\n}\r\n\r\n\r\nlet ajax : XMLHttpRequest = new XMLHttpRequest();\r\nconst content = document.createElement('div');\r\nconst NEWS_URL= 'https://api.hnpwa.com/v0/news/1.json';\r\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\r\nconst store: Store = {\r\n    currentPage: 1,\r\n    feeds: []\r\n}\r\n\r\nfunction applyApiMixin(targetClass: any, baseClass: any[]): void {\r\n    baseClass.forEach(baseClass=> {\r\n        Object.getOwnPropertyNames(baseClass.prototype).forEach(propertyName => {\r\n            const descriptor = Object.getOwnPropertyDescriptor(baseClass.prototype, propertyName);\r\n\r\n            if (descriptor) {\r\n                Object.defineProperty(targetClass.prototype, propertyName, descriptor);\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nclass Api {\r\n    protected getRequest<AjaxResponse>(url: string): AjaxResponse {\r\n        const ajax = new XMLHttpRequest();\r\n        ajax.open('GET', url , false);\r\n        ajax.send();\r\n    \r\n        return JSON.parse(ajax.response);\r\n    }\r\n}\r\n\r\nclass NewsFeedApi {\r\n    getData() : NewsFeed[] {\r\n        return this.getRequest<NewsFeed[]>(NEWS_URL);\r\n    }\r\n}\r\n\r\nclass NewsDetailApi {\r\n    getData(id: string) : NewsDetail {\r\n        return this.getRequest<NewsDetail>(CONTENT_URL.replace('@id', id));\r\n    }\r\n}\r\n\r\nabstract class View {\r\n    private template : string;\r\n    private renderTemplate : string;\r\n    private container: HTMLElement;\r\n    private htmlList : string[];\r\n\r\n    constructor (containerId: string, template: string) {\r\n        const containerElement =  document.getElementById(containerId);\r\n\r\n        if (!containerElement) {\r\n            throw '안됨';\r\n        }\r\n\r\n        this.container = containerElement;\r\n        this.template = template;\r\n        this.renderTemplate = template;\r\n        this.htmlList = [];\r\n    }\r\n\r\n    \r\n    protected updateView (): void {\r\n        this.container.innerHTML = this.renderTemplate;\r\n        this.renderTemplate  = this.template;\r\n    }\r\n\r\n    protected addHtml(htmlString: string) :void{\r\n        this.htmlList.push(htmlString);\r\n    }\r\n\r\n    protected getHtml (): string {\r\n        const snapShot = this.htmlList.join('');\r\n        this.clearHtmlList();\r\n        return snapShot;\r\n    }\r\n\r\n    protected setTemplate(key: string, value: string): void {\r\n        this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n    }\r\n\r\n    private clearHtmlList(): void {\r\n        this.htmlList = [];\r\n    }\r\n\r\n    abstract render(): void;\r\n}\r\n\r\nclass NewsFeedView extends View {\r\n\r\n    private api: NewsFeedApi;\r\n    private feeds: NewsFeed[];\r\n\r\n    constructor(containerId: string) {\r\n\r\n        let template: string = /* html */`\r\n            <div class=\"bg-gray-600 min-h-screen\">\r\n                <div class=\"bg-white text-xl\">\r\n                    <div class=\"mx-auto px-4\">\r\n                        <div class=\"flex justify-between items-center py-6\">\r\n                            <div class=\"flex justify-start\">\r\n                                <h1 class=\"font-extrabold text-xl\">NEWS</h1>\r\n                            </div>\r\n                            <div class=\"items-center justify-end\">\r\n                                <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">이전</a>\r\n                                <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">다음</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <ul class=\"p-4 text-2xl text-gray-700\">\r\n                    {{__news_feed__}}\r\n                </ul>\r\n            </div>\r\n        `;\r\n\r\n        super(containerId, template);\r\n\r\n        this.api = new NewsFeedApi();\r\n        this.feeds = store.feeds;\r\n\r\n\r\n        if (this.feeds.length === 0) {\r\n            this.feeds = store.feeds = this.api.getData();\r\n            this.makeFeeds();\r\n        }\r\n        \r\n       \r\n    }\r\n\r\n    render(): void {\r\n        store.currentPage = Number(location.hash.substring(7) || 1);\r\n\r\n        for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i += 1) {\r\n\r\n            const {id, title, comments_count, user, points, time_ago, read} = this.feeds[i];\r\n            this.addHtml( /* html */`\r\n\r\n            <div class=\"mt-6 p-6 ${read ? ' bg-red-500' : 'bg-white'} rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n                <div class=\"flex\">\r\n                    <div class=\"flex-auto\">\r\n                        <a href=\"#/show/${id}\">${title}</a>\r\n                    </div>\r\n                    <div class=\"text-center text-sm\">\r\n                        <div class=\"\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mt-3\">\r\n                    <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n                        <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n                        <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n                        <div><i class=\"fas fa-clock mr-1\"></i>${time_ago}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            `);\r\n        }\r\n\r\n        this.setTemplate('news_feed', this.getHtml());\r\n        this.setTemplate('prev_page', String(store.currentPage > 1 ? store.currentPage - 1 : 1));\r\n        this.setTemplate('next_page', String(store.currentPage ? store.currentPage + 1 : store.currentPage));\r\n\r\n        this.updateView();\r\n    }\r\n\r\n    makeFeeds(): void {\r\n        for (let i = 0; i < this.feeds.length; i+=1) {\r\n            this.feeds[i].read = false;\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n\r\nclass NewsDetailView extends View {\r\n    constructor(containerId: string) {\r\n    \r\n        let template =  /* html */ `\r\n            <div class=\"bg-gray-600 min-h-screen pb-8\">\r\n                <div class=\"bg-white text-xl\">\r\n                    <div class=\"mx-auto px-4\">\r\n                        <div class=\"flex justify-between items-center py-6\">\r\n                            <div class=\"flex justify-start\">\r\n                                <h1 class=\"font-extrabold text-xl\">NEWS</h1>\r\n                            </div>\r\n                            <div class=\"items-center justify-end\">\r\n                                <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n                                    <i class=\"fa fa-times\"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"h-full m-6 p-4 border rounded-xl bg-white\">\r\n                    <h1>{{__title__}}</h1>\r\n                    <div class=\"text-gray-400 h-20\">\r\n                       {{__content__}}\r\n                    </div>\r\n        \r\n                    {{__comment__}}\r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        super(containerId, template);\r\n    }\r\n\r\n    render() {\r\n        const id = location.hash.substring(7);\r\n        const api = new NewsDetailApi();\r\n        const newsDetail: NewsDetail = api.getData(id);\r\n    \r\n        for (let i = 0; i < store.feeds.length; i += 1 ){\r\n            if (store.feeds[i].id === Number(id)){\r\n                store.feeds[i].read = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.setTemplate('comment', this.makeComment(newsDetail.comments));\r\n        this.setTemplate('currentPage', String(store.currentPage));\r\n        this.setTemplate('title', newsDetail.title);\r\n        this.setTemplate('content', newsDetail.content);\r\n        this.updateView();\r\n    }\r\n\r\n    private makeComment(comments:NewsComment[]) :string {\r\n        const commentString = [];\r\n    \r\n        for (let i = 0; i< comments.length; i += 1) {\r\n            const comment: NewsComment = comments[i];\r\n    \r\n            this.addHtml( /* html */`\r\n                <div class=\"mt-4 pl-${comment.level * 5}\">\r\n                    <div class=\"text-gray-400\">\r\n                        <i class=\"fa fa-sort-up mr-2\"></i>\r\n                        <strong>${comment.user}</strong> ${comment.time_ago}\r\n                    </div>\r\n                    <p class=\"text-gray-700\">${comment.content}</p>\r\n                </div>\r\n            `);\r\n    \r\n            if (comment.comments.length > 0){\r\n                this.addHtml(this.makeComment(comment.comments));\r\n            }\r\n        }\r\n        return  this.getHtml();\r\n    }\r\n    \r\n}\r\n\r\nclass Router {\r\n    routeTable : RouteInfo[];\r\n    defaultRoute: RouteInfo | null;\r\n\r\n    constructor() {\r\n        window.addEventListener('hashchange', this.route.bind(this));\r\n\r\n        this.routeTable= [];\r\n        this.defaultRoute = null;\r\n    }\r\n\r\n    setDefaultPage(page: View): void {\r\n        this.defaultRoute = {path: '', page}\r\n    }\r\n\r\n    addRoutePath(path: string, page: View): void {\r\n        this.routeTable.push({path, page});\r\n    }\r\n\r\n    route() {\r\n        const routePath = location.hash;\r\n\r\n        if (routePath === '' && this.defaultRoute) {\r\n            this.defaultRoute.page.render();\r\n        }\r\n\r\n        for (const routeInfo of this.routeTable) { \r\n            if (routePath.indexOf(routeInfo.path) >= 0) {\r\n                routeInfo.page.render();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getData<AjaxResponse>(url : string) : AjaxResponse {\r\n    ajax.open('GET', url , false);\r\n    ajax.send();\r\n\r\n    return JSON.parse(ajax.response);\r\n}\r\n\r\ninterface NewsFeedApi extends Api{};\r\ninterface NewsDetailApi extends Api{};\r\napplyApiMixin(NewsFeedApi, [Api]);\r\napplyApiMixin(NewsDetailApi, [Api]);\r\n\r\n\r\nconst router: Router = new Router();\r\nconst newsFeedView = new NewsFeedView('root');\r\nconst newsDetailView = new NewsDetailView('root');\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\nrouter.addRoutePath('/page/', newsFeedView);\r\nrouter.addRoutePath('/show/', newsDetailView);\r\n\r\nrouter.route();"]}